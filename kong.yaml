_format_version: "1.1"

services:
  - name: faktum
    url: http://faktum.default.svc.nais.local
    plugins:
      - name: key-auth
    routes:
    - name: faktum-route
      methods:
        - GET
      paths:
        - /token

consumers:
  - username: my-user
    keyauth_credentials:
      - key: my-key
  - username: admin-api
    keyauth_credentials:
      - key: apikey

plugins:
  - name: syslog
    consumer: my-user
    service: faktum
  - name: correlation-id
    service: faktum
    config:
      header_name: Kong-Request-ID
      generator: uuid#counter
      echo_downstream: false